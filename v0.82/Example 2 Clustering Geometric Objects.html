

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example 2 Clustering Geometric Objects &mdash; Clifford 0.82 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="Example 1 Interpolating Conformal Objects" href="Example 1 Interpolating Conformal Objects.html" />
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85010051-1', 'auto');
  ga('send', 'pageview');

</script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Clifford
          

          
          </a>

          
            
            
              <div class="version">
                0.82
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="QuickStartG2.html">Quick Start (G2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="TheAlgebraOfSpaceG3.html">The Algebra Of Space (G3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="EulerAngles.html">Rotations in Space: Euler Angles, Matrices, and Quaternions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ConformalGeometricAlgebra.html">Conformal Geometric Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="SpaceTimeAlgebra.html">Space Time Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="InterfacingOtherMathSystems.html">Interfacing Other Mathematical Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="PredefinedGAs.html">Predefined Geometric Algebras</a></li>
<li class="toctree-l2"><a class="reference internal" href="PerformanceCliffordTutorial.html">Writing high(ish) performance code with Clifford and Numba via Numpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="Example 1 Interpolating Conformal Objects.html">Example 1 Interpolating Conformal Objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Example 2 Clustering Geometric Objects</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Clifford</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="tutorials.html">Tutorials</a> &raquo;</li>
        
      <li>Example 2 Clustering Geometric Objects</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Example 2 Clustering Geometric Objects.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Example-2-Clustering-Geometric-Objects">
<h1>Example 2 Clustering Geometric Objects<a class="headerlink" href="#Example-2-Clustering-Geometric-Objects" title="Permalink to this headline">Â¶</a></h1>
<p>In this example we will look at a few of the tools provided by the
clifford package for (4,1) conformal geometric algebra (CGA) and see how
we can use them in a practical setting to cluster geometric objects via
the simple K-means clustering algorithm provided in clifford.tools</p>
<p>As before the first step in using the package for CGA is to generate and
import the algebra:</p>
<div class="nbinput container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.g3c</span> <span class="kn">import</span> <span class="o">*</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;e1*e1 &#39;</span><span class="p">,</span> <span class="n">e1</span><span class="o">*</span><span class="n">e1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;e2*e2 &#39;</span><span class="p">,</span> <span class="n">e2</span><span class="o">*</span><span class="n">e2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;e3*e3 &#39;</span><span class="p">,</span> <span class="n">e3</span><span class="o">*</span><span class="n">e3</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;e4*e4 &#39;</span><span class="p">,</span> <span class="n">e4</span><span class="o">*</span><span class="n">e4</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;e5*e5 &#39;</span><span class="p">,</span> <span class="n">e5</span><span class="o">*</span><span class="n">e5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="prompt empty container">
</div>
<div class="output_area container">
<div class="highlight"><pre>
e1*e1  1.0
e2*e2  1.0
e3*e3  1.0
e4*e4  1.0
e5*e5  -1.0
</pre></div></div>
</div>
<p>The tools submodule of the clifford package contains a wide array of
algorithms and tools that can be useful for manipulating objects in CGA.
In this case we will be generating a large number of objects and then
segmenting them into clusters.</p>
<p>We first need an algorithm for generating a cluster of objects in space.
We will construct this cluster by generating a random object and then
repeatedly disturbing this object by some small fixed amount and storing
the result:</p>
<div class="nbinput nblast container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">generate_random_object_cluster</span><span class="p">(</span><span class="n">n_objects</span><span class="p">,</span> <span class="n">object_generator</span><span class="p">,</span> <span class="n">max_cluster_trans</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">max_cluster_rot</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">8</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Creates a cluster of random objects &quot;&quot;&quot;</span>
    <span class="n">ref_obj</span> <span class="o">=</span> <span class="n">object_generator</span><span class="p">()</span>
    <span class="n">cluster_objects</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_objects</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">random_rotation_translation_rotor</span><span class="p">(</span><span class="n">maximum_translation</span><span class="o">=</span><span class="n">max_cluster_trans</span><span class="p">,</span> <span class="n">maximum_angle</span><span class="o">=</span><span class="n">max_cluster_rot</span><span class="p">)</span>
        <span class="n">new_obj</span> <span class="o">=</span> <span class="n">apply_rotor</span><span class="p">(</span><span class="n">ref_obj</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">cluster_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cluster_objects</span>
</pre></div>
</div>
</div>
<p>We can use this function to create a cluster and then we can visualise
this cluster with <a class="reference external" href="http://gaonline.azurewebsites.net/">GAOnline</a>
using the built in tools in clifford.</p>
<div class="nbinput container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c.GAOnline</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">clustered_circles</span> <span class="o">=</span> <span class="n">generate_random_object_cluster</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_circle</span><span class="p">)</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">GAScene</span><span class="p">()</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clustered_circles</span><span class="p">:</span>
    <span class="n">sc</span><span class="o">.</span><span class="n">add_circle</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="s1">&#39;rgb(255,0,0)&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="prompt empty container">
</div>
<div class="output_area container">
<div class="highlight"><pre>
DrawCircle(-(0.01217^e123) + (0.28814^e124) + (0.35382^e125) - (0.1613^e134) - (0.1924^e135) - (0.13415^e145) + (0.61359^e234) + (0.71684^e235) + (0.86703^e245) - (0.1997^e345),rgb(255,0,0));
DrawCircle((0.01115^e123) + (0.147^e124) + (0.23182^e125) - (0.0291^e134) - (0.05752^e135) - (0.15342^e145) + (0.02949^e234) + (0.11861^e235) + (0.9508^e245) - (0.15743^e345),rgb(255,0,0));
DrawCircle((0.00839^e123) + (0.06117^e124) + (0.14735^e125) + (0.01245^e134) + (0.01533^e135) - (0.10695^e145) - (0.02918^e234) + (0.06305^e235) + (0.97256^e245) + (0.14693^e345),rgb(255,0,0));
DrawCircle((0.02093^e123) - (0.07401^e124) + (0.03312^e125) - (0.0182^e134) - (0.00909^e135) + (0.06093^e145) - (0.24376^e234) - (0.17755^e235) + (1.01336^e245) + (0.04847^e345),rgb(255,0,0));
DrawCircle(-(0.03095^e123) + (0.14983^e124) + (0.25337^e125) + (0.06371^e134) + (0.06308^e135) + (0.21622^e145) + (0.37665^e234) + (0.44892^e235) + (0.91015^e245) - (0.15652^e345),rgb(255,0,0));
DrawCircle((0.01605^e123) + (0.02878^e124) + (0.11928^e125) - (0.02146^e134) - (0.02103^e135) + (0.12175^e145) - (0.14735^e234) - (0.05931^e235) + (0.98859^e245) - (0.11376^e345),rgb(255,0,0));
DrawCircle(-(0.00186^e123) + (0.09704^e124) + (0.18605^e125) + (0.00133^e134) + (0.00244^e135) + (0.00514^e145) + (0.11798^e234) + (0.20753^e235) + (0.97241^e245) + (0.00704^e345),rgb(255,0,0));
DrawCircle(-(0.04426^e123) - (0.1844^e124) - (0.11101^e125) - (0.04304^e134) - (0.05326^e135) - (0.11395^e145) + (0.32538^e234) + (0.42762^e235) + (0.96545^e245) + (0.02429^e345),rgb(255,0,0));
DrawCircle(-(0.00152^e123) + (0.05481^e124) + (0.1433^e125) + (0.00165^e134) + (0.00465^e135) - (0.01193^e145) + (0.07259^e234) + (0.16261^e235) + (0.97933^e245) + (0.04533^e345),rgb(255,0,0));
DrawCircle((0.00319^e123) + (0.05383^e124) + (0.15563^e125) - (0.00325^e134) + (0.00227^e135) + (0.19675^e145) + (0.00925^e234) + (0.08374^e235) + (0.96157^e245) - (0.09182^e345),rgb(255,0,0));
</pre></div></div>
</div>
<p>This cluster generation function appears in clifford tools by default
and it can be imported as follows:</p>
<div class="nbinput nblast container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c</span> <span class="kn">import</span> <span class="n">generate_random_object_cluster</span>
</pre></div>
</div>
</div>
<p>Now that we can generate individual clusters we would like to generate
many:</p>
<div class="nbinput nblast container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">generate_n_clusters</span><span class="p">(</span> <span class="n">object_generator</span><span class="p">,</span> <span class="n">n_clusters</span><span class="p">,</span> <span class="n">n_objects_per_cluster</span> <span class="p">):</span>
    <span class="n">object_clusters</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_clusters</span><span class="p">):</span>
        <span class="n">cluster_objects</span> <span class="o">=</span> <span class="n">generate_random_object_cluster</span><span class="p">(</span><span class="n">n_objects_per_cluster</span><span class="p">,</span> <span class="n">object_generator</span><span class="p">,</span>
                                                         <span class="n">max_cluster_trans</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">max_cluster_rot</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">16</span><span class="p">)</span>
        <span class="n">object_clusters</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cluster_objects</span><span class="p">)</span>
    <span class="n">all_objects</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">object_clusters</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">all_objects</span><span class="p">,</span> <span class="n">object_clusters</span>
</pre></div>
</div>
</div>
<p>Again this function appears by default in clifford tools and we can
easily visualise the result:</p>
<div class="nbinput container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c</span> <span class="kn">import</span> <span class="n">generate_n_clusters</span>

<span class="n">all_objects</span><span class="p">,</span> <span class="n">object_clusters</span> <span class="o">=</span> <span class="n">generate_n_clusters</span><span class="p">(</span><span class="n">random_circle</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">sc</span> <span class="o">=</span> <span class="n">GAScene</span><span class="p">()</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">all_objects</span><span class="p">:</span>
    <span class="n">sc</span><span class="o">.</span><span class="n">add_circle</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="s1">&#39;rgb(255,0,0)&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="prompt empty container">
</div>
<div class="output_area container">
<div class="highlight"><pre>
DrawCircle(-(0.08001^e123) + (0.72143^e124) + (0.70736^e125) + (0.68096^e134) + (0.62111^e135) + (0.41994^e145) + (0.68211^e234) + (0.56662^e235) + (0.92137^e245) + (0.47263^e345),rgb(255,0,0));
DrawCircle(-(0.09446^e123) + (0.97013^e124) + (0.93952^e125) + (0.667^e134) + (0.60608^e135) + (0.4095^e145) + (0.57772^e234) + (0.46605^e235) + (0.9596^e245) + (0.4159^e345),rgb(255,0,0));
DrawCircle(-(0.08088^e123) + (0.93401^e124) + (0.8998^e125) + (0.6765^e134) + (0.60823^e135) + (0.50229^e145) + (0.64397^e234) + (0.53773^e235) + (0.95455^e245) + (0.34506^e345),rgb(255,0,0));
DrawCircle(-(0.0723^e123) + (0.66846^e124) + (0.65309^e125) + (0.74136^e134) + (0.68244^e135) + (0.38712^e145) + (0.77748^e234) + (0.66168^e235) + (0.9053^e245) + (0.55378^e345),rgb(255,0,0));
DrawCircle(-(0.09985^e123) + (0.89056^e124) + (0.87691^e125) + (0.73739^e134) + (0.66742^e135) + (0.5232^e145) + (0.57785^e234) + (0.46814^e235) + (0.89951^e245) + (0.40531^e345),rgb(255,0,0));
DrawCircle(-(0.22181^e123) + (5.6368^e124) + (5.46656^e125) + (2.01846^e134) + (1.92162^e135) + (0.91183^e145) - (1.86016^e234) - (1.85783^e235) + (1.36844^e245) + (0.79093^e345),rgb(255,0,0));
DrawCircle(-(0.18321^e123) + (5.42385^e124) + (5.24973^e125) + (1.80913^e134) + (1.72102^e135) + (0.88912^e145) - (1.96588^e234) - (1.94899^e235) + (1.36831^e245) + (0.77866^e345),rgb(255,0,0));
DrawCircle(-(0.1693^e123) + (5.77333^e124) + (5.59309^e125) + (1.52528^e134) + (1.44986^e135) + (0.94803^e145) - (1.76921^e234) - (1.75554^e235) + (1.4174^e245) + (0.66499^e345),rgb(255,0,0));
DrawCircle(-(0.10803^e123) + (5.82613^e124) + (5.64903^e125) + (2.31672^e134) + (2.23318^e135) + (0.70753^e145) - (1.0858^e234) - (1.08139^e235) + (1.54205^e245) + (0.74505^e345),rgb(255,0,0));
DrawCircle(-(0.2199^e123) + (5.53419^e124) + (5.35611^e125) + (1.52424^e134) + (1.44312^e135) + (0.80723^e145) - (1.55681^e234) - (1.56501^e235) + (1.46727^e245) + (0.6312^e345),rgb(255,0,0));
</pre></div></div>
</div>
<p>Given that we can now generate multiple clusters of objects we can test
algorithms for segmenting them.</p>
<p>The function run_n_clusters below generates a lot of objects
distributed into n clusters and then attempts to segment the objects to
recover the clusters.</p>
<div class="nbinput nblast container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c.object_clustering</span> <span class="kn">import</span> <span class="n">n_clusters_objects</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">run_n_clusters</span><span class="p">(</span> <span class="n">object_generator</span><span class="p">,</span> <span class="n">n_clusters</span><span class="p">,</span> <span class="n">n_objects_per_cluster</span><span class="p">,</span> <span class="n">n_shotgunning</span><span class="p">):</span>
    <span class="n">all_objects</span><span class="p">,</span> <span class="n">object_clusters</span> <span class="o">=</span> <span class="n">generate_n_clusters</span><span class="p">(</span> <span class="n">object_generator</span><span class="p">,</span> <span class="n">n_clusters</span><span class="p">,</span> <span class="n">n_objects_per_cluster</span> <span class="p">)</span>
    <span class="p">[</span><span class="n">new_labels</span><span class="p">,</span> <span class="n">centroids</span><span class="p">,</span> <span class="n">start_labels</span><span class="p">,</span> <span class="n">start_centroids</span><span class="p">]</span> <span class="o">=</span> <span class="n">n_clusters_objects</span><span class="p">(</span><span class="n">n_clusters</span><span class="p">,</span> <span class="n">all_objects</span><span class="p">,</span>
                                                                                <span class="n">initial_centroids</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                                                                <span class="n">n_shotgunning</span><span class="o">=</span><span class="n">n_shotgunning</span><span class="p">,</span>
                                                                                <span class="n">averaging_method</span><span class="o">=</span><span class="s1">&#39;unweighted&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_objects</span><span class="p">,</span> <span class="n">new_labels</span><span class="p">,</span> <span class="n">centroids</span>
</pre></div>
</div>
</div>
<p>Lets try it!</p>
<div class="nbinput container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">clifford.tools.g3c.object_clustering</span> <span class="kn">import</span> <span class="n">visualise_n_clusters</span>

<span class="n">object_generator</span> <span class="o">=</span> <span class="n">random_circle</span>

<span class="n">n_clusters</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">n_objects_per_cluster</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_shotgunning</span> <span class="o">=</span> <span class="mi">60</span>
<span class="n">all_objects</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">centroids</span> <span class="o">=</span> <span class="n">run_n_clusters</span><span class="p">(</span><span class="n">object_generator</span><span class="p">,</span> <span class="n">n_clusters</span><span class="p">,</span>
                                                     <span class="n">n_objects_per_cluster</span><span class="p">,</span> <span class="n">n_shotgunning</span><span class="p">)</span>

<span class="n">sc</span> <span class="o">=</span> <span class="n">visualise_n_clusters</span><span class="p">(</span><span class="n">all_objects</span><span class="p">,</span> <span class="n">centroids</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;circle&#39;</span><span class="p">,</span>
                     <span class="n">color_1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span> <span class="n">color_2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>
<span class="k">print</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="prompt empty container">
</div>
<div class="output_area container">
<div class="highlight"><pre>
DrawCircle((0.00117^e123) - (0.66604^e124) - (0.7134^e125) - (0.56988^e134) - (0.61089^e135) + (0.27633^e145) + (1.45519^e234) + (1.55846^e235) + (0.1097^e245) + (0.69759^e345),rgb(0, 255, 0));
DrawCircle((0.00271^e123) - (0.26555^e124) - (0.2866^e125) - (0.54073^e134) - (0.58527^e135) + (0.16419^e145) + (1.3858^e234) + (1.49609^e235) - (0.04306^e245) + (0.76915^e345),rgb(0, 255, 0));
DrawCircle(-(0.00416^e123) - (0.58334^e124) - (0.62697^e125) - (0.58425^e134) - (0.62583^e135) + (0.29599^e145) + (1.3996^e234) + (1.50427^e235) + (0.00069^e245) + (0.71086^e345),rgb(0, 255, 0));
DrawCircle(-(0.02853^e123) - (0.4501^e124) - (0.49401^e125) - (0.59608^e134) - (0.63486^e135) + (0.30568^e145) + (1.06274^e234) + (1.16837^e235) + (0.03085^e245) + (0.7626^e345),rgb(0, 255, 0));
DrawCircle(-(0.01275^e123) - (0.41454^e124) - (0.44747^e125) - (0.5472^e134) - (0.58383^e135) + (0.22252^e145) + (1.38672^e234) + (1.49701^e235) + (0.00439^e245) + (0.75018^e345),rgb(0, 255, 0));
DrawCircle((0.00698^e123) - (0.64536^e124) - (0.69732^e125) - (0.44058^e134) - (0.47962^e135) + (0.32969^e145) + (1.27647^e234) + (1.37828^e235) + (0.08839^e245) + (0.71244^e345),rgb(0, 255, 0));
DrawCircle(-(0.00535^e123) - (0.59166^e124) - (0.63663^e125) - (0.49087^e134) - (0.5255^e135) + (0.29543^e145) + (1.40067^e234) + (1.50729^e235) + (0.01937^e245) + (0.71546^e345),rgb(0, 255, 0));
DrawCircle((0.02546^e123) - (0.54678^e124) - (0.58802^e125) - (0.32696^e134) - (0.36452^e135) + (0.27696^e145) + (1.42789^e234) + (1.53503^e235) + (0.01203^e245) + (0.73047^e345),rgb(0, 255, 0));
DrawCircle(-(0.00091^e123) - (0.5556^e124) - (0.59518^e125) - (0.25214^e134) - (0.2697^e135) + (0.24411^e145) + (1.582^e234) + (1.69477^e235) + (0.04802^e245) + (0.71687^e345),rgb(0, 255, 0));
DrawCircle((0.01242^e123) - (0.59212^e124) - (0.63663^e125) - (0.41549^e134) - (0.45316^e135) + (0.30676^e145) + (1.40236^e234) + (1.50814^e235) - (0.01716^e245) + (0.71447^e345),rgb(0, 255, 0));
DrawCircle(-(0.01991^e123) - (0.2994^e124) - (0.21875^e125) + (0.00449^e134) - (0.00175^e135) - (0.07566^e145) + (0.05787^e234) + (0.10968^e235) + (1.01337^e245) - (0.02982^e345),rgb(127, 127, 0));
DrawCircle(-(0.02341^e123) - (0.21812^e124) - (0.13554^e125) - (0.02152^e134) - (0.01306^e135) + (0.00287^e145) + (0.15618^e234) + (0.20452^e235) + (1.00122^e245) + (0.10084^e345),rgb(127, 127, 0));
DrawCircle(-(0.00145^e123) - (0.38491^e124) - (0.30322^e125) + (0.02174^e134) + (0.01636^e135) - (0.20201^e145) - (0.21879^e234) - (0.16853^e235) + (1.01576^e245) + (0.05746^e345),rgb(127, 127, 0));
DrawCircle(-(0.01915^e123) - (0.21726^e124) - (0.12919^e125) + (0.00749^e134) + (0.00344^e135) - (0.0115^e145) + (0.12528^e234) + (0.16341^e235) + (1.00899^e245) - (0.04143^e345),rgb(127, 127, 0));
DrawCircle(-(0.02349^e123) - (0.38251^e124) - (0.3025^e125) + (0.01959^e134) + (0.01556^e135) + (0.0011^e145) + (0.04677^e234) + (0.09977^e235) + (1.02226^e245) - (0.05221^e345),rgb(127, 127, 0));
DrawCircle(-(0.03155^e123) - (0.26659^e124) - (0.1824^e125) - (0.00718^e134) - (0.01483^e135) - (0.08376^e145) + (0.23149^e234) + (0.27712^e235) + (1.00316^e245) - (0.0457^e345),rgb(127, 127, 0));
DrawCircle(-(0.02155^e123) - (0.37712^e124) - (0.29473^e125) + (0.00578^e134) + (0.00459^e135) + (0.00134^e145) + (0.04183^e234) + (0.09122^e235) + (1.02421^e245) - (0.01555^e345),rgb(127, 127, 0));
DrawCircle((0.02023^e123) - (0.09701^e124) - (0.01339^e125) - (0.00157^e134) + (0.00772^e135) - (0.03806^e145) - (0.29763^e234) - (0.25126^e235) + (1.00791^e245) + (0.13304^e345),rgb(127, 127, 0));
DrawCircle(-(0.01833^e123) - (0.34113^e124) - (0.26514^e125) + (0.0072^e134) - (0.00017^e135) - (0.10725^e145) - (0.01653^e234) + (0.04177^e235) + (1.01647^e245) - (0.01626^e345),rgb(127, 127, 0));
DrawCircle(-(0.02303^e123) - (0.48685^e124) - (0.40194^e125) + (0.01537^e134) + (0.00667^e135) - (0.12722^e145) + (0.02576^e234) + (0.06984^e235) + (1.02677^e245) - (0.03915^e345),rgb(127, 127, 0));
DrawCircle((0.02746^e123) + (0.09361^e124) + (0.03908^e125) + (0.05226^e134) + (0.04758^e135) + (0.08784^e145) + (0.27671^e234) + (0.38758^e235) + (0.9276^e245) + (0.25816^e345),rgb(255, 0, 0));
DrawCircle((0.01068^e123) + (0.06642^e124) + (0.03771^e125) + (0.01681^e134) + (0.01657^e135) + (0.04366^e145) + (0.08075^e234) + (0.20102^e235) + (0.96478^e245) + (0.1911^e345),rgb(255, 0, 0));
DrawCircle((0.04926^e123) + (0.19653^e124) + (0.15036^e125) + (0.07684^e134) + (0.07473^e135) + (0.0636^e145) + (0.49444^e234) + (0.60913^e235) + (0.92094^e245) + (0.20006^e345),rgb(255, 0, 0));
DrawCircle((0.02377^e123) + (0.15595^e124) + (0.11366^e125) + (0.03533^e134) + (0.02421^e135) - (0.01005^e145) + (0.11328^e234) + (0.22894^e235) + (0.96041^e245) + (0.22486^e345),rgb(255, 0, 0));
DrawCircle((0.03602^e123) + (0.21387^e124) + (0.16198^e125) + (0.05562^e134) + (0.05211^e135) + (0.05931^e145) + (0.20418^e234) + (0.31635^e235) + (0.9602^e245) + (0.19308^e345),rgb(255, 0, 0));
DrawCircle((0.06714^e123) + (0.44283^e124) + (0.39745^e125) + (0.09792^e134) + (0.0959^e135) + (0.0529^e145) + (0.30168^e234) + (0.41668^e235) + (0.96248^e245) + (0.17678^e345),rgb(255, 0, 0));
DrawCircle((0.00857^e123) + (0.04776^e124) + (0.00312^e125) + (0.01969^e134) + (0.03822^e135) + (0.20575^e145) + (0.06203^e234) + (0.17584^e235) + (0.9569^e245) + (0.12736^e345),rgb(255, 0, 0));
DrawCircle((0.01274^e123) + (0.10105^e124) + (0.06212^e125) + (0.02192^e134) + (0.03288^e135) + (0.15386^e145) + (0.01232^e234) + (0.12917^e235) + (0.96408^e245) + (0.1904^e345),rgb(255, 0, 0));
DrawCircle((0.01007^e123) - (0.03153^e124) - (0.06616^e125) + (0.03608^e134) + (0.04006^e135) + (0.11161^e145) + (0.36883^e234) + (0.48746^e235) + (0.89686^e245) + (0.27932^e345),rgb(255, 0, 0));
DrawCircle(-(0.00096^e123) - (0.1318^e124) - (0.17742^e125) + (0.04254^e134) + (0.05857^e135) + (0.17932^e145) + (0.30925^e234) + (0.42305^e235) + (0.92399^e245) + (0.12255^e345),rgb(255, 0, 0));
DrawCircle(-(0.00015^e123) - (0.53295^e124) - (0.57426^e125) - (0.47859^e134) - (0.51561^e135) + (0.27279^e145) + (1.38334^e234) + (1.49059^e235) + (0.02541^e245) + (0.73088^e345),rgb(0,0,0));
DrawCircle(-(0.01595^e123) - (0.30829^e124) - (0.22554^e125) - (0.00268^e134) - (0.00527^e135) - (0.0639^e145) + (0.01473^e234) + (0.06344^e235) + (1.01808^e245) + (0.0058^e345),rgb(0,0,0));
DrawCircle((0.02434^e123) + (0.1157^e124) + (0.07228^e125) + (0.04644^e134) + (0.04899^e135) + (0.09496^e145) + (0.22288^e234) + (0.33838^e235) + (0.94651^e245) + (0.19696^e345),rgb(0,0,0));
</pre></div></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Example 1 Interpolating Conformal Objects.html" class="btn btn-neutral" title="Example 1 Interpolating Conformal Objects" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Robert Kern and the Clifford Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.82',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>